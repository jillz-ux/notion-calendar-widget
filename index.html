<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Notion Calendar</title>

  <style>
    :root{
      --bg: #ffffff;             /* blend into Notion */
      --card: #ffffff;
      --text: #2f2a22;
      --muted: #7a7367;

      --line: rgba(47,42,34,0.08);
      --soft: rgba(47,42,34,0.05);

      --accent: #e8dfd2;         /* light beige outline */
      --radius: 16px;

      /* Size controls (make smaller here) */
      --calendar-width: 290px;   /* was ~330 */
      --cell-size: 34px;         /* day box size */
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      background: var(--bg);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color: var(--text);
    }

    /* Container */
    #calendari {
      width: var(--calendar-width);
      background: var(--bg);
      padding: 0;               /* no beige margin around */
      margin: 0;
    }

    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      background: var(--card);
      border: 1px solid var(--soft);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: none;         /* blends more in Notion */
    }

    th, td { text-align: center; }

    /* Title row */
    .cal-title {
      padding: 12px 10px 10px;
      font-size: 14px;
      font-weight: 600;
      position: relative;
      border-bottom: 1px solid var(--soft);
      background: var(--card);
    }

    .cal-title .year {
      display: block;
      font-size: 12px;
      font-weight: 500;
      color: var(--muted);
      margin-top: 2px;
    }

    /* Weekday header */
    .dow th{
      padding: 8px 0;
      font-size: 11px;
      font-weight: 600;
      color: var(--muted);
      border-bottom: 1px solid var(--soft);
      background: var(--card);
    }

    /* Day cells */
    td {
      padding: 0;
      border-bottom: 1px solid var(--soft);
    }

    tr:last-child td { border-bottom: none; }

    td > span{
      display: grid;
      place-items: center;
      width: var(--cell-size);
      height: var(--cell-size);
      margin: 6px auto;
      border-radius: 10px;
      border: 1px solid transparent;
      color: var(--text);
      font-size: 13px;
      line-height: 1;
    }

    /* Outside month */
    td.fora > span{
      opacity: 0.28;
    }

    /* Today: ONLY an outlined box */
    td.avui > span{
      border-color: var(--accent);
      background: transparent;
      font-weight: 700;
    }

    /* Optional: subtle hover */
    td > span:hover{
      border-color: rgba(232,223,210,0.7);
    }

    /* Nav buttons */
    .nav-btn{
      appearance: none;
      border: 1px solid var(--soft);
      background: #fff;
      width: 28px;
      height: 28px;
      border-radius: 999px;
      display: grid;
      place-items: center;
      font-weight: 700;
      cursor: pointer;
      position: absolute;
      top: 10px;
    }

    .nav-btn:hover{
      border-color: rgba(232,223,210,0.9);
    }

    .prev { left: 10px; }
    .next { right: 10px; }
  </style>
</head>

<body>
  <div id="calendari"></div>

  <script>
    const MONTHS = [
      'January','February','March','April','May','June',
      'July','August','September','October','November','December'
    ];
    const DOW = ['Su','Mo','Tu','We','Th','Fr','Sa'];

    function sameDay(a, b){
      return a.getFullYear() === b.getFullYear()
        && a.getMonth() === b.getMonth()
        && a.getDate() === b.getDate();
    }

    function renderCalendar(container, viewDate){
      container.innerHTML = '';

      const today = new Date();
      const year = viewDate.getFullYear();
      const month = viewDate.getMonth();

      // First day of month
      const firstOfMonth = new Date(year, month, 1);

      // Start on the Sunday of the week containing the 1st
      const start = new Date(firstOfMonth);
      start.setDate(firstOfMonth.getDate() - firstOfMonth.getDay());

      const table = document.createElement('table');

      // Title row
      const titleRow = document.createElement('tr');
      const titleTh = document.createElement('th');
      titleTh.className = 'cal-title';
      titleTh.colSpan = 7;

      const prevBtn = document.createElement('button');
      prevBtn.className = 'nav-btn prev';
      prevBtn.innerHTML = '&#9666;';

      const nextBtn = document.createElement('button');
      nextBtn.className = 'nav-btn next';
      nextBtn.innerHTML = '&#9656;';

      const titleWrap = document.createElement('div');
      titleWrap.innerHTML = `${MONTHS[month]}<span class="year">${year}</span>`;

      prevBtn.onclick = () => {
        const newDate = new Date(year, month - 1, 1);
        renderCalendar(container, newDate);
      };

      nextBtn.onclick = () => {
        const newDate = new Date(year, month + 1, 1);
        renderCalendar(container, newDate);
      };

      titleTh.appendChild(prevBtn);
      titleTh.appendChild(titleWrap);
      titleTh.appendChild(nextBtn);
      titleRow.appendChild(titleTh);
      table.appendChild(titleRow);

      // DOW header row (Su -> Sa)
      const dowRow = document.createElement('tr');
      dowRow.className = 'dow';
      for (let i = 0; i < 7; i++){
        const th = document.createElement('th');
        th.textContent = DOW[i];
        dowRow.appendChild(th);
      }
      table.appendChild(dowRow);

      // 6 weeks grid
      const cursor = new Date(start);
      for (let w = 0; w < 6; w++){
        const tr = document.createElement('tr');

        for (let d = 0; d < 7; d++){
          const td = document.createElement('td');
          const span = document.createElement('span');
          span.textContent = cursor.getDate();

          // outside current month
          if (cursor.getMonth() !== month) td.className = 'fora';

          // today outline (true today, not "selected date")
          if (sameDay(cursor, today)) td.className = 'avui';

          td.appendChild(span);
          tr.appendChild(td);

          cursor.setDate(cursor.getDate() + 1);
        }

        table.appendChild(tr);
      }

      container.appendChild(table);
    }

    renderCalendar(document.getElementById('calendari'), new Date());
  </script>
</body>
</html>

