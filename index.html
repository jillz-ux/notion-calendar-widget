<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Notion Calendar</title>

  <style>
    :root{
      --bg: #ffffff;
      --card: #ffffff;
      --text: #2f2a22;
      --muted: #7a7367;

      --soft: rgba(47,42,34,0.05);

      /* Beige palette */
      --today-beige: #f2ede4;     /* filled highlight for today */
      --header-beige: #efe6ea;    /* slightly pinky / mauve beige header */
      --beige-border: #e4d7dd;    /* soft border that matches header tone */

      --radius: 16px;

      /* Size controls */
      --calendar-width: 275px;    /* ~5% smaller than 290px */
      --cell-size: 34px;
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      background: var(--bg);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color: var(--text);
    }

    #calendari {
      width: var(--calendar-width);
      background: var(--bg);
      margin: 0;
      padding: 0;
    }

    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      background: var(--card);
      border: 1px solid var(--soft);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: none; /* blends into Notion */
    }

    th, td { text-align: center; }

    /* Header */
    .cal-title{
      padding: 12px 10px 10px;
      font-size: 14px;
      font-weight: 650;
      position: relative;
      border-bottom: 1px solid var(--soft);
      background: var(--header-beige);
    }

    .cal-title .year{
      display: block;
      font-size: 12px;
      font-weight: 500;
      color: var(--muted);
      margin-top: 2px;
    }

    /* Nav buttons (keep white) */
    .nav-btn{
      appearance: none;
      border: 1px solid var(--soft);
      background: #fff; /* arrows stay white */
      width: 28px;
      height: 28px;
      border-radius: 999px;
      display: grid;
      place-items: center;
      font-weight: 700;
      cursor: pointer;
      position: absolute;
      top: 10px;
      color: var(--text);
    }
    .prev { left: 10px; }
    .next { right: 10px; }

    .nav-btn:hover{
      border-color: var(--beige-border);
    }

    /* Days of week */
    .dow th{
      padding: 8px 0;
      font-size: 11px;
      font-weight: 600;
      color: var(--muted);
      border-bottom: 1px solid var(--soft);
      background: var(--card);
    }

    /* Grid */
    td {
      padding: 0;
      border-bottom: 1px solid var(--soft);
    }
    tr:last-child td { border-bottom: none; }

    td > span{
      display: grid;
      place-items: center;
      width: var(--cell-size);
      height: var(--cell-size);
      margin: 6px auto;
      border-radius: 10px;
      border: 1px solid transparent;
      font-size: 13px;
      line-height: 1;
      color: var(--text);
    }

    td.fora > span{
      opacity: 0.28;
    }

    /* Today filled */
    td.avui > span{
      background: var(--today-beige);
      border-color: var(--beige-border);
      font-weight: 700;
    }

    /* Subtle hover */
    td > span:hover{
      border-color: var(--beige-border);
    }
  </style>
</head>

<body>
  <div id="calendari"></div>

  <script>
    const MONTHS = [
      'January','February','March','April','May','June',
      'July','August','September','October','November','December'
    ];
    const DOW = ['Su','Mo','Tu','We','Th','Fr','Sa'];

    function sameDay(a, b){
      return a.getFullYear() === b.getFullYear()
        && a.getMonth() === b.getMonth()
        && a.getDate() === b.getDate();
    }

    function renderCalendar(container, viewDate){
      container.innerHTML = '';

      const today = new Date();
      const year = viewDate.getFullYear();
      const month = viewDate.getMonth();

      const firstOfMonth = new Date(year, month, 1);

      // Start on Sunday of the week containing the 1st
      const start = new Date(firstOfMonth);
      start.setDate(firstOfMonth.getDate() - firstOfMonth.getDay());

      const table = document.createElement('table');

      // Header row
      const titleRow = document.createElement('tr');
      const titleTh = document.createElement('th');
      titleTh.className = 'cal-title';
      titleTh.colSpan = 7;

      const prevBtn = document.createElement('button');
      prevBtn.className = 'nav-btn prev';
      prevBtn.innerHTML = '&#9666;';

      const nextBtn = document.createElement('button');
      nextBtn.className = 'nav-btn next';
      nextBtn.innerHTML = '&#9656;';

      const titleWrap = document.createElement('div');
      titleWrap.innerHTML = `${MONTHS[month]}<span class="year">${year}</span>`;

      prevBtn.onclick = () => renderCalendar(container, new Date(year, month - 1, 1));
      nextBtn.onclick = () => renderCalendar(container, new Date(year, month + 1, 1));

      titleTh.appendChild(prevBtn);
      titleTh.appendChild(titleWrap);
      titleTh.appendChild(nextBtn);
      titleRow.appendChild(titleTh);
      table.appendChild(titleRow);

      // Days-of-week header (Su -> Sa)
      const dowRow = document.createElement('tr');
      dowRow.className = 'dow';
      DOW.forEach(d => {
        const th = document.createElement('th');
        th.textContent = d;
        dowRow.appendChild(th);
      });
      table.appendChild(dowRow);

      // 6-week grid (safe for all months)
      const cursor = new Date(start);
      for (let w = 0; w < 6; w++){
        const tr = document.createElement('tr');

        for (let d = 0; d < 7; d++){
          const td = document.createElement('td');
          const span = document.createElement('span');
          span.textContent = cursor.getDate();

          if (cursor.getMonth() !== month) td.className = 'fora';
          if (sameDay(cursor, today)) td.className = 'avui';

          td.appendChild(span);
          tr.appendChild(td);

          cursor.setDate(cursor.getDate() + 1);
        }

        table.appendChild(tr);
      }

      container.appendChild(table);
    }

    renderCalendar(document.getElementById('calendari'), new Date());
  </script>
</body>
</html>

